<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
			xmlns:sec="http://www.thymeleaf.org/extras/spring-security" lang="es">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<title>SAMYX - Sistema de Facturación Electrónica</title>

	<!-- Favicon -->
	<link rel="icon" type="image/png" href="images/icons/favicon.ico" />

	<!-- Bootstrap CSS -->
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css" rel="stylesheet">

	<!-- Font Awesome -->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

	<!-- Animate.css -->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">

	<!-- Select2 -->
	<link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />

	<!-- CSS personalizado del login -->
	<link th:href="@{/css/login.css}" rel="stylesheet" />
</head>
<body>

<div class="login-container">
	<!-- Banner SAMYX -->
	<div class="samyx-banner">
		<!-- Partículas animadas -->
		<div class="particle"></div>
		<div class="particle"></div>
		<div class="particle"></div>
		<div class="particle"></div>
		<div class="particle"></div>

		<!-- Contenido del banner -->
		<div class="banner-content">
			<h1 class="logo-text">SAMYX</h1>
		</div>

		<!-- Efecto de onda -->
		<div class="wave"></div>
	</div>

	<!-- Contenedor del formulario -->
	<div class="form-container">
		<!-- Alertas -->
		<div class="custom-alert alert-warning" th:if="${param.error != null}">
			<i class="fa fa-exclamation-triangle"></i>
			<span th:text="#{txt.user.pw.fail}">Usuario o contraseña incorrectos</span>
			<button type="button" class="close" data-dismiss="alert" aria-label="Close">
				<span aria-hidden="true">&times;</span>
			</button>
		</div>

		<div class="custom-alert alert-info" th:if="${param.expired != null}">
			<i class="fa fa-exclamation-triangle"></i>
			<span th:text="#{txt.session.expired}">Su sesión ha expirado</span>
			<button type="button" class="close" data-dismiss="alert" aria-label="Close">
				<span aria-hidden="true">&times;</span>
			</button>
		</div>

		<div class="custom-alert alert-success" th:if="${param.logout != null}">
			<i class="fa fa-check-circle"></i>
			<span>Ha cerrado sesión exitosamente</span>
			<button type="button" class="close" data-dismiss="alert" aria-label="Close">
				<span aria-hidden="true">&times;</span>
			</button>
		</div>

		<!-- Formulario de login -->
		<form id="loginform" th:action="@{/login}" method="post" class="login-form active">
			<h2 class="form-title">Sistema de Facturación Electrónica</h2>

			<div class="input-group">
				<i class="fa fa-user"></i>
				<input type="text"
							 name="username"
							 id="username"
							 th:placeholder="#{txt.username}"
							 placeholder="Usuario"
							 autofocus="autofocus"
							 required
							 autocomplete="username">
			</div>

			<div class="input-group">
				<i class="fa fa-lock"></i>
				<input type="password"
							 name="password"
							 id="password"
							 th:placeholder="#{txt.password}"
							 placeholder="Contraseña"
							 required
							 autocomplete="current-password">
			</div>

			<!-- Remember me checkbox -->
			<div class="form-check">
				<input type="checkbox"
							 class="form-check-input"
							 id="remember-me"
							 name="remember-me">
				<label class="form-check-label" for="remember-me">
					Recordarme
				</label>
			</div>

			<button type="submit" class="login-btn">
				<span class="btn-text" th:text="#{txt.ingresar}">INGRESAR</span>
				<span class="btn-loading" style="display: none;">
                    <i class="fa fa-spinner fa-spin"></i> Ingresando...
                </span>
			</button>

			<div class="form-links">
				<a href="javascript:void(0)" id="to-recover">
					¿Olvidó su contraseña? <i class="fa fa-long-arrow-right"></i>
				</a>
				<a th:href="@{/nuevo-registro}">
					Crear Cuenta <i class="fa fa-long-arrow-right"></i>
				</a>
			</div>
		</form>

		<!-- Formulario de recuperación -->
		<form id="recoverform" th:action="@{/account/forgot}" method="post" class="recover-form">
			<h3 class="recover-title">Recuperar Contraseña</h3>

			<p class="recover-subtitle">
				Ingrese su correo electrónico o usuario y le enviaremos instrucciones para restablecer su contraseña.
			</p>

			<div class="input-group">
				<i class="fa fa-envelope"></i>
				<input type="text"
							 name="term"
							 id="recover-term"
							 placeholder="Digite su correo electrónico o usuario"
							 required
							 autocomplete="email">
			</div>

			<button type="submit" class="login-btn">
				<span class="btn-text">RECUPERAR CONTRASEÑA</span>
				<span class="btn-loading" style="display: none;">
                    <i class="fa fa-spinner fa-spin"></i> Enviando...
                </span>
			</button>

			<div class="form-links">
				<a href="javascript:void(0)" id="to-login">
					<i class="fa fa-long-arrow-left"></i> Volver al login
				</a>
			</div>
		</form>

		<!-- Mensaje de éxito para recuperación -->
		<div id="recover-success" class="recover-success" style="display: none;">
			<div class="success-icon">
				<i class="fa fa-check-circle"></i>
			</div>
			<h3>¡Correo enviado!</h3>
			<p>Hemos enviado las instrucciones para recuperar su contraseña a su correo electrónico.</p>
			<a href="javascript:void(0)" class="login-btn" id="back-to-login">
				Volver al login
			</a>
		</div>
	</div>
</div>

<!-- jQuery -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"></script>

<!-- Select2 JS -->
<script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>

<!-- SweetAlert -->
<script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>

<!-- JavaScript personalizado del login -->
<script th:src="@{/js/login.js}"></script>

</body>
</html>