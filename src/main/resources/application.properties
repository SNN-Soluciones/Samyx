spring.application.name=SINMATA-FE
#################################################################
### Driver base de datos - ACTUALIZADO AL DRIVER MODERNO
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

#################################################################
### Dialecto base de datos - COMENTADO (Hibernate lo detectará automáticamente)
# spring.jpa.database-platform=org.hibernate.dialect.MySQLDialect

#################################################################
### String de conexión producción - AGREGAR PARÁMETROS SSL
spring.datasource.url=jdbc:mysql://simple-studio-do-user-17834356-0.g.db.ondigitalocean.com:25060/samyx_dev?useSSL=true&requireSSL=false&allowPublicKeyRetrieval=true&useJDBCCompliantTimezoneShift=true&useLegacyDatetimeCode=false&serverTimezone=America/Costa_Rica
spring.datasource.username=doadmin
spring.datasource.password=AVNS_d_4ApkE_ZCXMb-niHbt

#################################################################
### Configuración del pool de conexiones HikariCP
spring.datasource.hikari.connection-timeout=30000
spring.datasource.hikari.maximum-pool-size=10
spring.datasource.hikari.minimum-idle=5
spring.datasource.hikari.idle-timeout=300000
spring.datasource.hikari.initialization-fail-timeout=60000

#################################################################
### Dominio Aplicación
spring.jmx.default-domain: SFE V87.2 By sinmata.com

#################################################################
### Configuración para el envío de correo
# Configuración SMTP para Gmail
spring.mail.host=smtp.gmail.com
spring.mail.port=465
spring.mail.username=fe@samyx.digital
spring.mail.password=hgctqnepsmaulkkz

# Configuraciones de seguridad
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.ssl.enable=true

# Desactivar STARTTLS (ya que usaremos SSL directo)
spring.mail.properties.mail.smtp.starttls.enable=false
spring.mail.properties.mail.smtp.starttls.required=false

# Opcional: Configurar tiempo de espera
spring.mail.properties.mail.smtp.connectiontimeout=5000
spring.mail.properties.mail.smtp.timeout=5000
spring.mail.properties.mail.smtp.writetimeout=5000

# (Opcional) Depuración - CAMBIAR A FALSE EN PRODUCCIÓN
spring.mail.properties.mail.debug=false

correo.de.distribucion=fe@samyx.digital
correo.no.reply=fe@samyx.digital

#################################################################
### Carpeta de archivos en en ambiente de producción
path.upload.files.api = /home/XmlClientes/

#################################################################
### Configuración API MH
endpoint.prod = https://api.comprobanteselectronicos.go.cr/recepcion/v1/
endpoint.stag = https://api.comprobanteselectronicos.go.cr/recepcion-sandbox/v1/
token.prod = https://idp.comprobanteselectronicos.go.cr/auth/realms/rut/protocol/openid-connect/
token.stag = https://idp.comprobanteselectronicos.go.cr/auth/realms/rut-stag/protocol/openid-connect/

#################################################################
### Dirección QR para la consulta de documentos y descarga de XML.
url.qr = ""

#################################################################
###
spring.jackson.serialization.fail-on-empty-beans=false

#################################################################
### CACHE EN EN SPRING - SINTAXIS ACTUALIZADA
spring.web.resources.cache.cachecontrol.max-age=14400

#################################################################
## Conexión al API Soluciones Informaticas Mata Producción
api.jmata.recepcion = https://api-fe-snnsoluciones-4-3-1-9hgqw.ondigitalocean.app/api-4.3/recepcion

#################################################################
## Recepción ND y NC aceptadas por Hacienda
api.jmata.recepcion.nd.nc = https://api-fe-snnsoluciones-4-3-1-9hgqw.ondigitalocean.app/api-4.3/recepcion-nd-nc

#################################################################
## Mensaje Receptor
api.jmata.mensaje.receptor = https://api-fe-snnsoluciones-4-3-1-9hgqw.ondigitalocean.app/api-4.3/recepcion-mr

#################################################################
## Consultar el estados de los documentos emitidos con el facturador
api.jmata.consulta.docs = https://api-fe-snnsoluciones-4-3-1-9hgqw.ondigitalocean.app/api-4.3/consultar-documentos

#################################################################
## Consultar el estados de los documentos emitidos
api.jmata.consulta.cualquier.doc = https://api-fe-snnsoluciones-4-3-1-9hgqw.ondigitalocean.app/api-4.3/consultar-cualquier-documento

#################################################################
## Descarga el PDF aunque no tenga aceptación por hacienda
api.jmata.imprimir.pdf = https://api-fe-snnsoluciones-4-3-1-9hgqw.ondigitalocean.app/api-4.3/imprimir-factura/

#################################################################
## Descarga los XML del API
api.jmata.download.docs = https://api-fe-snnsoluciones-4-3-1-9hgqw.ondigitalocean.app/api-4.3/get-xml/

#################################################################
## Descarga los XML del API
api.jmata.reenviar.xmls = https://api-fe-snnsoluciones-4-3-1-9hgqw.ondigitalocean.app/api-4.3/reenviar-xmls

#################################################################
## Tiempo de vida de la sesión en milisegundos, -1 = no expira
#server.session.timeout=-1 2 horas y media
server.servlet.session.timeout=720m
server.servlet.session.cookie.max-age=720m

#server.servlet.session.cookie.max-age=20000

spring.mvc.contentnegotiation.media-types.xlsx = application/vnd.openxmlformats-officedocument.spreadsheetml.sheet

#################################################################
### Logging para producción
logging.level.root=INFO
logging.level.snn.soluciones.com=INFO
logging.level.org.springframework.web=WARN
logging.level.org.hibernate.SQL=WARN